

# 设计


## 倒排索引（Inverted Index）

倒排索引是搜索引擎的核心结构，它维护了<词(Term)，包含该词的文档列表（Postings List）> 之间的对应关系，
Postings List 中的每个元素分别对应了包含该词的文档的唯一编号 `DocId`。

## 词典（Term Dictionary）

为了能够在倒排索引中查找包含某个词的文档列表（Postings List），我们需要维护一个词典。

词典中每一个 Term 都有一个对应的 `TermInfo`，它维护了以下信息：

* 包含 Term 的文档总数
* Term 对应的 Postings List 的地址


## 文档列表（Postings List）

文档列表是一个有序列表，如果使用变长编码，使用增量的方式编码会更节省空间，在解码的时候通过 delta 值还原出原始的列表

假设文档列表是 `3 5 9 12 13 20`，我们只需要编码以下整数序列 `2 4 3 1 7`，并使用无损压缩算法进行压缩后进行持久化。
